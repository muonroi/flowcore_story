services:
  story-worker:
    build: .
    container_name: flowcore-story-worker
    env_file:
      - ../config/env/common.env
      - ../config/env/crawler.env
      - ../config/env/database.env
    volumes:
      - ./src:/app/src
      - ../flowcore/src:/app/libs/flowcore/src
      - ./config:/app/config
      - ./state:/app/state
      - ../proxies:/app/proxies
    environment:
      - PYTHONPATH=/app/src:/app/libs/flowcore/src
      - STEALTH_GATEWAY_URL=http://stealth-gateway:8555
    networks:
      - flowcore-shared-network

networks:
  flowcore-shared-network:
    external: true
