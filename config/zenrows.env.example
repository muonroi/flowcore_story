# ====================================================================
# ZenRows Configuration - Anti-bot bypass for difficult sites
# ====================================================================
# Copy these lines to your .env file to enable ZenRows
# API Key from: https://app.zenrows.com/
# ====================================================================

# Enable ZenRows integration
ZENROWS_ENABLED=true

# Your ZenRows API Key
ZENROWS_API_KEY=d1d21b229f18d33801687b2ac1107a00a41dc16f

# ====================================================================
# Advanced Settings
# ====================================================================

# Request timeout in seconds
ZENROWS_TIMEOUT=60.0

# Enable JavaScript rendering (required for dynamic content)
# Cost: +5 credits per request
ZENROWS_JS_RENDER=true

# Use premium residential proxies (better success rate, higher cost)
# Cost: +10 credits per request
ZENROWS_PREMIUM_PROXY=false

# Optional: Wait for specific CSS selector before returning content
# Example: .chapter-content, #main-content, .story-detail
# ZENROWS_WAIT_FOR_SELECTOR=

# ====================================================================
# Site Configuration
# ====================================================================

# Comma-separated list of difficult sites to auto-use ZenRows
# These sites will use ZenRows from the first request
ZENROWS_DIFFICULT_SITES=xtruyen

# Auto Mode - Automatically use ZenRows for difficult sites
# true = Use ZenRows immediately for difficult sites (recommended)
# false = Only use ZenRows as fallback after regular requests fail
ZENROWS_AUTO_MODE=true

# ====================================================================
# Fallback Configuration (Cost Optimization)
# ====================================================================

# Number of consecutive failures before triggering ZenRows fallback
# Lower number = More ZenRows usage, higher success rate but higher cost
# Higher number = Fewer ZenRows calls, lower cost but more initial failures
# Recommended: 3
ZENROWS_FALLBACK_THRESHOLD=3

# Time window in seconds to track failures
# ZenRows triggers if site has >= threshold failures within this window
# Recommended: 300 (5 minutes)
ZENROWS_FAIL_WINDOW_SECONDS=300.0

# ====================================================================
# Cost Information
# ====================================================================
# 
# Credit usage per request:
# - Basic request: 1 credit
# - + JS rendering (ZENROWS_JS_RENDER=true): +5 credits
# - + Premium proxy (ZENROWS_PREMIUM_PROXY=true): +10 credits
# 
# Current configuration cost: 6 credits per request
# (1 basic + 5 JS rendering)
#
# To reduce costs:
# - Set ZENROWS_AUTO_MODE=false (only use as fallback)
# - Increase ZENROWS_FALLBACK_THRESHOLD to 5 or higher
# - Set ZENROWS_DIFFICULT_SITES= (empty, no auto-trigger)
#
# To increase success rate:
# - Set ZENROWS_PREMIUM_PROXY=true (use residential IPs)
# - Set ZENROWS_FALLBACK_THRESHOLD=2 (trigger earlier)
# - Add more sites to ZENROWS_DIFFICULT_SITES
#
# ====================================================================
# Usage Examples
# ====================================================================
#
# Aggressive (High success, high cost):
#   ZENROWS_AUTO_MODE=true
#   ZENROWS_DIFFICULT_SITES=xtruyen,tangthuvien
#   ZENROWS_FALLBACK_THRESHOLD=2
#   ZENROWS_PREMIUM_PROXY=true
#
# Balanced (Recommended):
#   ZENROWS_AUTO_MODE=true
#   ZENROWS_DIFFICULT_SITES=xtruyen
#   ZENROWS_FALLBACK_THRESHOLD=3
#   ZENROWS_PREMIUM_PROXY=false
#
# Conservative (Low cost, fallback only):
#   ZENROWS_AUTO_MODE=false
#   ZENROWS_DIFFICULT_SITES=
#   ZENROWS_FALLBACK_THRESHOLD=5
#   ZENROWS_PREMIUM_PROXY=false
#
# ====================================================================

